#!/bin/bash
echo "██╗██████╗        █████╗ ██████╗ ██████╗ ██████╗ ███████╗███████╗███████╗███████╗███████╗
██║██╔══██╗      ██╔══██╗██╔══██╗██╔══██╗██╔══██╗██╔════╝██╔════╝██╔════╝██╔════╝██╔════╝
██║██████╔╝█████╗███████║██║  ██║██║  ██║██████╔╝█████╗  ███████╗███████╗█████╗  ███████╗
██║██╔═══╝ ╚════╝██╔══██║██║  ██║██║  ██║██╔══██╗██╔══╝  ╚════██║╚════██║██╔══╝  ╚════██║
██║██║           ██║  ██║██████╔╝██████╔╝██║  ██║███████╗███████║███████║███████╗███████║
╚═╝╚═╝           ╚═╝  ╚═╝╚═════╝ ╚═════╝ ╚═╝  ╚═╝╚══════╝╚══════╝╚══════╝╚══════╝╚══════╝
                                                                                         "
echo " ██████╗██████╗ ███████╗ █████╗ ████████╗ ██████╗ ██████╗ ███████╗                             
██╔════╝██╔══██╗██╔════╝██╔══██╗╚══██╔══╝██╔═══██╗██╔══██╗██╔════╝██╗                          
██║     ██████╔╝█████╗  ███████║   ██║   ██║   ██║██████╔╝███████╗╚═╝                          
██║     ██╔══██╗██╔══╝  ██╔══██║   ██║   ██║   ██║██╔══██╗╚════██║██╗                          
╚██████╗██║  ██║███████╗██║  ██║   ██║   ╚██████╔╝██║  ██║███████║╚═╝                          
 ╚═════╝╚═╝  ╚═╝╚══════╝╚═╝  ╚═╝   ╚═╝    ╚═════╝ ╚═╝  ╚═╝╚══════╝                             
                                                                                               
             █████╗ ██╗   ██╗██████╗ ███████╗███████╗██╗   ██╗ █████╗     ██╗       ███████╗   
            ██╔══██╗██║   ██║██╔══██╗██╔════╝██╔════╝██║   ██║██╔══██╗    ██║       ██╔════╝   
            ███████║██║   ██║██║  ██║█████╗  █████╗  ██║   ██║███████║    ██║       █████╗     
            ██╔══██║╚██╗ ██╔╝██║  ██║██╔══╝  ██╔══╝  ╚██╗ ██╔╝██╔══██║    ██║       ██╔══╝     
            ██║  ██║ ╚████╔╝ ██████╔╝███████╗███████╗ ╚████╔╝ ██║  ██║    ██║██╗    ███████╗██╗
            ╚═╝  ╚═╝  ╚═══╝  ╚═════╝ ╚══════╝╚══════╝  ╚═══╝  ╚═╝  ╚═╝    ╚═╝╚═╝    ╚══════╝╚═╝
                                                                                               
            ██╗  ██╗██╗██╗  ██╗ ██████╗ ████████╗    ██╗   ██╗        █████╗                   
            ██║ ██╔╝██║██║ ██╔╝██╔═══██╗╚══██╔══╝    ██║   ██║       ██╔══██╗                  
            █████╔╝ ██║█████╔╝ ██║   ██║   ██║       ██║   ██║       ███████║                  
            ██╔═██╗ ██║██╔═██╗ ██║   ██║   ██║       ╚██╗ ██╔╝       ██╔══██║                  
            ██║  ██╗██║██║  ██╗╚██████╔╝   ██║        ╚████╔╝ ██╗    ██║  ██║██╗               
            ╚═╝  ╚═╝╚═╝╚═╝  ╚═╝ ╚═════╝    ╚═╝         ╚═══╝  ╚═╝    ╚═╝  ╚═╝╚═╝               
                                                                                               "
echo "С помощью этой программы вы можете узнать IPv4 любого подключенного интерфейса"

# Получаем список всех сетевых интерфейсов
interfaces=$(ip -o -4 addr show | awk '{print $2}')

inf=0
z=0

while [[ $z -ne 1 ]]; do
    echo "Все сетевые интерфейсы:"
    for interface in $interfaces; do
        echo "$interface"
    done
    
    i=0
    while [[ $i -ne 1 ]]; do
        echo "Введите имя интерфейса: "
        read inf
        est=0
        for interface in $interfaces; do
            if [ "$inf" == "$interface" ]; then
                est=1
            fi
        done
        if [ "$est" == 0 ]; then
            >&2 echo "Такого порядкого номера не существует"
        else
            let "i=1"
        fi
    done

    for interface in $interfaces; do
        if [ "$inf" == "$interface" ]; then
            ip_address=$(ip address show $interface | grep 'inet ' | awk '{print $2}')
            echo "IP-адрес для сетевого интерфейса $interface: $ip_address"
        fi
    done
    
    yn=0
    while [[ $yn -ne 1 ]]; do
        echo "Хотите продолжить: (y/n)"
        read answer
        if [[ "$answer" == "n" ]]; then
            z=1
            yn=1
        elif [[ "$answer" == "y" ]]; then
            yn=1
        else
            echo "Введите y или n"
        fi
    done
done
echo "
██████╗ ██╗   ██╗███████╗██╗
██╔══██╗╚██╗ ██╔╝██╔════╝██║
██████╔╝ ╚████╔╝ █████╗  ██║
██╔══██╗  ╚██╔╝  ██╔══╝  ╚═╝
██████╔╝   ██║   ███████╗██╗
╚═════╝    ╚═╝   ╚══════╝╚═╝
                            
"
